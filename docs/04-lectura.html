<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lectura de datos</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R para Clima</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="hoja-de-ruta.html">Hoja de ruta</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Temas
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01-introduccion.html">Introducción</a>
    </li>
    <li>
      <a href="02-proyectos.html">Proyectos de RStudio</a>
    </li>
    <li>
      <a href="03-reportes-I.html">Reportes I</a>
    </li>
    <li>
      <a href="04-lectura.html">Lectura de datos</a>
    </li>
    <li>
      <a href="05-dplyr.html">Manipulación de datos I</a>
    </li>
    <li>
      <a href="06-dplyr-tidyr-II.html">Manipulación de datos II</a>
    </li>
    <li>
      <a href="07-graficos-I.html">Gráficos I</a>
    </li>
    <li>
      <a href="08-lubridate.html">Manipulación fechas</a>
    </li>
    <li>
      <a href="09-graficos-II.html">Gráficos II</a>
    </li>
    <li>
      <a href="10-graficos-III.html">Gráficos para publicar</a>
    </li>
    <li>
      <a href="11-reportes-II.html">Reportes II</a>
    </li>
    <li>
      <a href="12-publicar.html">Publicar reportes</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Desafíos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="desafio-1.html">Leer y analizar datos</a>
    </li>
    <li>
      <a href="desafio-2.html">Graficar datos</a>
    </li>
    <li>
      <a href="desafio-3.html">Generar un informe</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Lectura de datos</h1>

</div>


<div id="archivos-csv" class="section level1">
<h1>Archivos csv</h1>
<p>Existen muchas funciones distintas para leer datos dependiendo del formato en el que están guardados. Para datos tabulares, la forma más útil es el formato csv, que es un archivo de texto plano con datos separados por coma. Vamos a trabajar con datos de temperatura de una estación meterológica en Bariloche:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">bariloche &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;datos/bariloche.csv&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Fecha = col_datetime(format = &quot;&quot;),
##   Temperatura = col_character()
## )</code></pre>
<p>Todo ese texto naranja/rojo es intimidante pero no te preocupes, es sólo un mensaje que nos informa que los datos se leyeron y qué tipo de dato tiene cada columna. ¿Notás algo raro? A pesar de que claramente la temperatura es un número, la columna <code>Temperatura</code> se está leyendo como un caracter. Otra forma de ver esto es usando la a función <code>str()</code> (de <em>structure</em> en inglés):</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">str</span>(bariloche)</a></code></pre></div>
<pre><code>## tibble [3,024 × 2] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Fecha      : POSIXct[1:3024], format: &quot;2011-05-28&quot; &quot;2011-05-29&quot; ...
##  $ Temperatura: chr [1:3024] NA &quot;4.272223&quot; &quot;-999.99&quot; &quot;3.473611&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Fecha = col_datetime(format = &quot;&quot;),
##   ..   Temperatura = col_character()
##   .. )</code></pre>
<p>Donde se ve que la columna <code>Temperatura</code> tiene clase <code>chr</code> (caracter).</p>
<p>Seguramente lo primero que tratarás en un caso así es simplemente cambiarle el tipo a la columna</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a></code></pre></div>
<pre><code>## Warning: replacing previous import &#39;vctrs::data_frame&#39; by &#39;tibble::data_frame&#39;
## when loading &#39;dplyr&#39;</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">bariloche <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Temperatura =</span> <span class="kw">as.numeric</span>(Temperatura))</a></code></pre></div>
<pre><code>## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion</code></pre>
<pre><code>## # A tibble: 3,024 x 2
##    Fecha               Temperatura
##    &lt;dttm&gt;                    &lt;dbl&gt;
##  1 2011-05-28 00:00:00       NA   
##  2 2011-05-29 00:00:00        4.27
##  3 2019-06-15 00:00:00    -1000.  
##  4 2011-05-31 00:00:00        3.47
##  5 2011-06-01 00:00:00        2.90
##  6 2011-06-02 00:00:00        6.26
##  7 2011-06-03 00:00:00        3.45
##  8 2016-03-22 00:00:00    -1000.  
##  9 2011-06-05 00:00:00        5.00
## 10 2011-06-06 00:00:00        5.45
## # … with 3,014 more rows</code></pre>
<p>Pero R dice que hay un problema. <code>NAs introduced by coercion</code> significa que algunos valores no se pudieron transformar en numéricos y entonces <code>as.numeric</code> los dejó como valores faltantes. Casi con seguridad no querés eso. Para ver qué está pasando, hay que investigar qué contenidos tienen esas filas. Para eso, podés filtrar las filas de <code>bariloche</code> que no tienen <code>NA</code> en <code>Temperatura</code> pero que se convierten en <code>NA</code> al hacer <code>as.numeric(Temperatura)</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">bariloche <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(Temperatura) <span class="op">&amp;</span><span class="st"> </span><span class="kw">is.na</span>(<span class="kw">as.numeric</span>(Temperatura)))</a></code></pre></div>
<pre><code>## Warning in mask$eval_all_filter(dots, env_filter): NAs introduced by coercion</code></pre>
<pre><code>## # A tibble: 302 x 2
##    Fecha               Temperatura
##    &lt;dttm&gt;              &lt;chr&gt;      
##  1 2018-12-16 00:00:00 N/A        
##  2 2011-06-02 00:00:00 N/A        
##  3 2019-07-19 00:00:00 N/A        
##  4 2020-05-13 00:00:00 N/A        
##  5 2015-12-08 00:00:00 N/A        
##  6 2015-05-23 00:00:00 N/A        
##  7 2015-04-27 00:00:00 N/A        
##  8 2014-09-10 00:00:00 N/A        
##  9 2019-12-23 00:00:00 N/A        
## 10 2019-07-10 00:00:00 N/A        
## # … with 292 more rows</code></pre>
<p>Ajá! Se ve que a alguien se le ocurrió usar los caracteres “N/A” para designar algunos datos faltantes. Con esta información, estaría bueno volver a leer los datos, diciéndole a <code>read_csv</code> que este archivo usa dos formas para referirse a datos faltantes.</p>
<div class="alert alert-info">
<p><strong>Desafío</strong> andá a la ayuda de <code>read_csv</code> y fijate si hay algún argumento que controle la lectura de datos faltantes. Sabiendo que hay valores faltantes codificados como “N/A”, ¿qué deberías pasarle a ese argumento para leer correctamente los datos?</p>
</div>
<p><code>read_csv</code> tiene un argumento <code>na</code> que controla qué valores van a interpretarse como valores faltantes. En este caso, sabés que “N/A” es uno. Entonces debería funcionar buen leer los datos así:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">bariloche &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;datos/bariloche.csv&quot;</span>, <span class="dt">na =</span> <span class="st">&quot;N/A&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Fecha = col_datetime(format = &quot;&quot;),
##   Temperatura = col_character()
## )</code></pre>
<p>¡No! Otra vez <code>Temperatura</code> se leyó como caracter. Si usás <code>str</code> podés ver que’pasó:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">str</span>(bariloche)</a></code></pre></div>
<pre><code>## tibble [3,024 × 2] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Fecha      : POSIXct[1:3024], format: &quot;2011-05-28&quot; &quot;2011-05-29&quot; ...
##  $ Temperatura: chr [1:3024] &quot;NA&quot; &quot;4.272223&quot; &quot;-999.99&quot; &quot;3.473611&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Fecha = col_datetime(format = &quot;&quot;),
##   ..   Temperatura = col_character()
##   .. )</code></pre>
<p>La primera fila, que antes se leía como dato faltante, ahora se lee como “NA”.</p>
<div class="alert alert-info">
<p><strong>Desafío</strong> ¿Por qué ahora <code>read_csv</code> está leyendo ese dato incorrectamente? Consejo: volvé a la ayuda de <code>read_csv</code> y fijate el valor por default del argumento <code>na</code>.</p>
</div>
<p>Antes, <code>na</code> estaba como el valor por defecto, que es <code>c(&quot;&quot;, &quot;NA&quot;)</code>, lo que significa que tanto valores vacíos como valores <code>&quot;NA&quot;</code> son considerados valores faltantes. Lo que tenés que hacer es agregar también el valor <code>&quot;N/A&quot;</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">bariloche &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;datos/bariloche.csv&quot;</span>, <span class="dt">na =</span> <span class="kw">c</span>(<span class="st">&quot;&quot;</span>,  <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;N/A&quot;</span>))</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Fecha = col_datetime(format = &quot;&quot;),
##   Temperatura = col_double()
## )</code></pre>
<p>Bien. Ahí la columna <code>Temperatura</code> se leyó como doble. Pero, ¿se leyeron bien? Una forma rápida de chequear los datos es usando la función <code>summary</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">summary</span>(bariloche)</a></code></pre></div>
<pre><code>##      Fecha                      Temperatura       
##  Min.   :2011-05-28 00:00:00   Min.   : -999.990  
##  1st Qu.:2013-06-06 00:00:00   1st Qu.:    4.617  
##  Median :2016-04-30 12:00:00   Median :    8.620  
##  Mean   :2016-02-25 15:23:48   Mean   :  -98.634  
##  3rd Qu.:2018-07-04 06:00:00   3rd Qu.:   13.243  
##  Max.   :2020-09-12 00:00:00   Max.   :   25.710  
##                                NA&#39;s   :501</code></pre>
<p><code>summary</code> devuelve algunas estadísticas simples sobre cada columna. La columna <code>Temperatura</code> tiene 501 valores faltantes, su máximo es 25.70972 y su mínimo es… ¿-999.990? Eso no puede ser. Seguramente a otro alguien se le ocurrió usar “-999.99” para marcar los datos faltantes. Una vez que sabés eso, podés volver a leer otra vez los datos agregando otro marcador más para los datos faltantes.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">bariloche &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;datos/bariloche.csv&quot;</span>, <span class="dt">na =</span> <span class="kw">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;N/A&quot;</span>, <span class="st">&quot;-999.99&quot;</span>))</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Fecha = col_datetime(format = &quot;&quot;),
##   Temperatura = col_double()
## )</code></pre>
<p>Y ahora <code>summary</code> da:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">summary</span>(bariloche)</a></code></pre></div>
<pre><code>##      Fecha                      Temperatura    
##  Min.   :2011-05-28 00:00:00   Min.   :-4.806  
##  1st Qu.:2013-06-06 00:00:00   1st Qu.: 5.994  
##  Median :2016-04-30 12:00:00   Median : 9.531  
##  Mean   :2016-02-25 15:23:48   Mean   : 9.832  
##  3rd Qu.:2018-07-04 06:00:00   3rd Qu.:13.681  
##  Max.   :2020-09-12 00:00:00   Max.   :25.710  
##                                NA&#39;s   :772</code></pre>
<p>Ahora el rango de temperatura es razonable y podés tener confianza de que los datos están bien leídos.</p>
<div class="alert alert-success">
<p>Junto a <code>read_csv()</code> hay una familia de funciones similares que leen archivos con distintos tipos de delimitadores distintos de la coma. La buena noticia es que todas las funciones tiene argumentos similares y se usan casi indistintamente.</p>
<p>Si quisieras leer archivos que están en formato “xlsx” (Excel) podés usar el paquete <code>{readxl}</code>.</p>
</div>
</div>
<div id="archivos-netcdf" class="section level1">
<h1>Archivos NetCDF</h1>
<p>Luego de esta epopeya para conseguir leer estos datos correctamente está bueno reflexionar sobre la importancia de los <strong>metadatos</strong>; los datos sobre los datos que, entre otras cosas, podrían indicar cómo están codificados los datos faltantes. Una alternativa es usar formatos de datos “autodescriptivos”. Estos son tipos de archivos que contienen sus propios metadatos.</p>
<p>Uno de estos tipos de formatos muy utilizado en ciencias para guardar datos atmosféricos grillados es el <a href="https://en.wikipedia.org/wiki/NetCDF">NetCDF</a>. Existen varios paquetes para estos archivos. Uno de ellos es {metR}.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">library</span>(metR)</a></code></pre></div>
<p>Los datos en archivos NetCDF puede ser bastante grandes y destruir tu sesión de R si tratás de leerlos enteros en memoria. Por eso, siempre es bueno primero fijarse qué tiene un archivo nuevo. Para eso, {metR} tiene la función <code>GlanceNetCDF</code> que muestra un vistazo de los metadatos del archivo. Vamos a trabajar con un archivo en este formato que contiene datos de reanálisis del NCEP.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">GlanceNetCDF</span>(<span class="st">&quot;datos/temperatura.nc&quot;</span>)</a></code></pre></div>
<pre><code>## ----- Variables ----- 
## air:
##     mean Daily Air temperature in degK
##     Dimensions: lon by lat by level by time
## 
## 
## ----- Dimensions ----- 
##   time: 1 values from 2010-07-09 to 2010-07-09 
##   level: 17 values from 10 to 1000 millibar
##   lat: 73 values from -90 to 90 degrees_north
##   lon: 144 values from 0 to 357.5 degrees_east</code></pre>
<p>La salida de esta función muestra las variables que tiene el archivo y sus dimensiones.</p>
<div class="alert alert-info">
<p><strong>Desafío</strong> ¿Qué información podés deducir sobre el contenido de temperatura.nc a partir de esto?</p>
</div>
<p>En este caso, el archivo tiene una sola variable, llamada <code>air</code> que es la temperatura media en Kelvin (un archivo NetCDF puede tener muchas variables y no todas en la misma grilla). De las dimensiones del archivo, se ve que tiene dimensiones de tiempo, nivel, longitud y latitud. La latitud va de -90 a 90 y la longitud de 0 a 357.5, por lo que es un campo global. <code>level</code> es la coordenada vertical, que va de 1000 milibares (básicamente la superficie) a 10 millibares (la estratósfera media).</p>
<p>Para leer los datos, se usa <code>ReadNetCDF()</code>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">temperatura &lt;-<span class="st"> </span><span class="kw">ReadNetCDF</span>(<span class="st">&quot;datos/temperatura.nc&quot;</span>, <span class="dt">vars =</span> <span class="st">&quot;air&quot;</span>)</a>
<a class="sourceLine" id="cb28-2" data-line-number="2">temperatura</a></code></pre></div>
<pre><code>##               time level lat   lon    air
##      1: 2010-07-09  1000  90   0.0 274.87
##      2: 2010-07-09  1000  90   2.5 274.87
##      3: 2010-07-09  1000  90   5.0 274.87
##      4: 2010-07-09  1000  90   7.5 274.87
##      5: 2010-07-09  1000  90  10.0 274.87
##     ---                                  
## 178700: 2010-07-09    10 -90 347.5 188.25
## 178701: 2010-07-09    10 -90 350.0 188.25
## 178702: 2010-07-09    10 -90 352.5 188.25
## 178703: 2010-07-09    10 -90 355.0 188.25
## 178704: 2010-07-09    10 -90 357.5 188.25</code></pre>
<div class="alert alert-success">
<p>Si no le ponés <code>vars = &quot;air&quot;</code>, <code>ReadNetCDF()</code> va a tratar de leer todas las variables presentes en el archivo. Esto a veces puede causar problemas si las grillas de las variables no son compatibles (por ejemplo, si una variable es la temperatura del aire definida en distintas alturas, y otra es la temperatura del suelo). En este caso, como “temperatura.nc” tiene sólo una variable, no haría falta ponerlo.</p>
</div>
<p>Es muy posible que quieras datos sólo de una región. Una opción es leer todo el archivo y luego filtrar los datos. Si te interesa la temperatura de superficie de Argentina, podrías hacer algo así:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">temperatura <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(level <span class="op">==</span><span class="st"> </span><span class="dv">1000</span> <span class="op">&amp;</span><span class="st"> </span><span class="kw">between</span>(lat, <span class="dv">-65</span>, <span class="dv">-20</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">between</span>(lon, <span class="dv">280</span>, <span class="dv">310</span>))</a></code></pre></div>
<pre><code>##            time level lat   lon    air
##   1: 2010-07-09  1000 -20 280.0 287.62
##   2: 2010-07-09  1000 -20 282.5 287.70
##   3: 2010-07-09  1000 -20 285.0 289.72
##   4: 2010-07-09  1000 -20 287.5 293.25
##   5: 2010-07-09  1000 -20 290.0 296.32
##  ---                                  
## 243: 2010-07-09  1000 -65 300.0 267.92
## 244: 2010-07-09  1000 -65 302.5 268.15
## 245: 2010-07-09  1000 -65 305.0 268.67
## 246: 2010-07-09  1000 -65 307.5 269.47
## 247: 2010-07-09  1000 -65 310.0 270.35</code></pre>
<p>Pero es mucho maś eficiente leer sólo los datos que te interesan, especialmente en archivos NetCDF grandes, que incluso no puede ser leídos en memoria enteros. <code>ReadNetCDF()</code> tiene un argumento llamado <code>subset</code> que sirve para especificar qué datos leer:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">ReadNetCDF</span>(<span class="st">&quot;datos/temperatura.nc&quot;</span>, <span class="dt">vars =</span> <span class="st">&quot;air&quot;</span>,</a>
<a class="sourceLine" id="cb32-2" data-line-number="2">           <span class="dt">subset =</span> <span class="kw">list</span>(<span class="dt">level =</span> <span class="dv">1000</span>,</a>
<a class="sourceLine" id="cb32-3" data-line-number="3">                         <span class="dt">lat =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">65</span>, <span class="dv">-20</span>),</a>
<a class="sourceLine" id="cb32-4" data-line-number="4">                         <span class="dt">lon =</span> <span class="kw">c</span>(<span class="dv">280</span>, <span class="dv">310</span>))) </a></code></pre></div>
<pre><code>##            time level lat   lon    air
##   1: 2010-07-09  1000 -20 280.0 287.62
##   2: 2010-07-09  1000 -20 282.5 287.70
##   3: 2010-07-09  1000 -20 285.0 289.72
##   4: 2010-07-09  1000 -20 287.5 293.25
##   5: 2010-07-09  1000 -20 290.0 296.32
##  ---                                  
## 243: 2010-07-09  1000 -65 300.0 267.92
## 244: 2010-07-09  1000 -65 302.5 268.15
## 245: 2010-07-09  1000 -65 305.0 268.67
## 246: 2010-07-09  1000 -65 307.5 269.47
## 247: 2010-07-09  1000 -65 310.0 270.35</code></pre>
<p>A <code>subset</code> hay que pasarle una lista donde cada elemento tiene el nombre de una dimensión con un vector cuyo rango define el rango de los datos a leer. El código de arriba, entonces, dice que de la dimensión <code>level</code> lea únicamente el valor 1000, de la dimensión <code>lat</code>, lea los valores que van entre -65 y -20, y de la dimensión <code>lon</code>, los valores entre 280 y 310.</p>
<div class="alert alert-info">
<p><strong>Desafío</strong> Elegí una región del mundo y completá el código que sigue para que lea la temperatura en superficie de esa región.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">temperatura &lt;-<span class="st"> </span><span class="kw">ReadNetCDF</span>(<span class="st">&quot;datos/temperatura.nc&quot;</span>, <span class="dt">vars =</span> <span class="st">&quot;air&quot;</span>,</a>
<a class="sourceLine" id="cb34-2" data-line-number="2">           <span class="dt">subset =</span> <span class="kw">list</span>(<span class="dt">level =</span> <span class="dv">1000</span>,</a>
<a class="sourceLine" id="cb34-3" data-line-number="3">                         <span class="dt">lat =</span> <span class="kw">c</span>(___, ___),</a>
<a class="sourceLine" id="cb34-4" data-line-number="4">                         <span class="dt">lon =</span> <span class="kw">c</span>(___, ___)))</a></code></pre></div>
<p>Para revisar si leíste los datos correctos, corré este código (no te preocupes si no usas ggplot, en una sección más adelante lo veremos)</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="kw">ggplot</span>(temperatura, <span class="kw">aes</span>(lon, lat)) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_raster</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> air)) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_path</span>(<span class="dt">data =</span> <span class="kw">map_data</span>(<span class="st">&quot;world2&quot;</span>), <span class="kw">aes</span>(long, lat, <span class="dt">group =</span> group))</a></code></pre></div>
</div>
<div class="alert alert-success">
<p>Ponerle nombre a las variables es a veces la parte más difícil de escribir código. A R no le viene bien cualquier nombre de variable siempre y cuando no empiece con un número o un &quot;_&quot;. Pero a los seres humanos que lean el código y tengan que interpretarlos les va a resultas más fácil entender qué hace la variable <code>temperatura_cordoba</code> que la variable <code>xxy1</code>.</p>
<p>El consejo es tratar en lo posible usar nombre descriptivos y consistentes. Por ejemplo, siempre usar minúsculas y separar palabras con &quot;_&quot;.</p>
<p><strong>Tip</strong>: Para hacerse la vida más fácil existen “guías de estilo” para programar que explicitan reglas específicas para escribir código. Por ejemplo <a href="https://rpubs.com/FvD/guia-estilo-r" class="alert-link">esta</a> o <a href="https://github.com/eliocamp/tesis/blob/master/docs/gu%C3%ADa_de_estilo.md" class="alert-link">esta otra</a>. Se trata de reglas únicamente para los ojos humanos, y que no afectan en absoluto la eficiencia o correctitud de la programación. En general, no existen guías buenas o malas, la idea es elegir una y ser consistente. De esta manera, vas a poder entender tu código con más facilidad.</p>
</div>
<div class="btn-group" role="group" aria-label="Navegación">
<p><a href= "03-reportes-I.html" class = "btn btn-primary">Anterior</a> <a href= "05-dplyr.html" class = "btn btn-primary">Siguiente</a></p>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiTGVjdHVyYSBkZSBkYXRvcyIKb3V0cHV0OiAKICBodG1sX2RvY3VtZW50OgogICAgY29kZV9kb3dubG9hZDogdHJ1ZQogICAgdG9jOiB0cnVlCiAgICB0b2NfZmxvYXQ6IHRydWUKICAgIGhpZ2hsaWdodDogdGFuZ28KLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZT1GQUxTRX0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KGVjaG8gPSBUUlVFKQpgYGAKCgojIEFyY2hpdm9zIGNzdgoKRXhpc3RlbiBtdWNoYXMgZnVuY2lvbmVzIGRpc3RpbnRhcyBwYXJhIGxlZXIgZGF0b3MgZGVwZW5kaWVuZG8gZGVsIGZvcm1hdG8gZW4gZWwgcXVlIGVzdMOhbiBndWFyZGFkb3MuIFBhcmEgZGF0b3MgdGFidWxhcmVzLCBsYSBmb3JtYSBtw6FzIMO6dGlsIGVzIGVsIGZvcm1hdG8gY3N2LCBxdWUgZXMgdW4gYXJjaGl2byBkZSB0ZXh0byBwbGFubyBjb24gZGF0b3Mgc2VwYXJhZG9zIHBvciBjb21hLiBWYW1vcyBhIHRyYWJhamFyIGNvbiBkYXRvcyBkZSB0ZW1wZXJhdHVyYSBkZSB1bmEgZXN0YWNpw7NuIG1ldGVyb2zDs2dpY2EgZW4gQmFyaWxvY2hlOgoKYGBge3J9CmxpYnJhcnkocmVhZHIpCmJhcmlsb2NoZSA8LSByZWFkX2NzdigiZGF0b3MvYmFyaWxvY2hlLmNzdiIpCmBgYApUb2RvIGVzZSB0ZXh0byBuYXJhbmphL3Jvam8gZXMgaW50aW1pZGFudGUgcGVybyBubyB0ZSBwcmVvY3VwZXMsIGVzIHPDs2xvIHVuIG1lbnNhamUgcXVlIG5vcyBpbmZvcm1hIHF1ZSBsb3MgZGF0b3Mgc2UgbGV5ZXJvbiB5IHF1w6kgdGlwbyBkZSBkYXRvIHRpZW5lIGNhZGEgY29sdW1uYS4gwr9Ob3TDoXMgYWxnbyByYXJvPyBBIHBlc2FyIGRlIHF1ZSBjbGFyYW1lbnRlIGxhIHRlbXBlcmF0dXJhIGVzIHVuIG7Dum1lcm8sIGxhIGNvbHVtbmEgYFRlbXBlcmF0dXJhYCBzZSBlc3TDoSBsZXllbmRvIGNvbW8gdW4gY2FyYWN0ZXIuIE90cmEgZm9ybWEgZGUgdmVyIGVzdG8gZXMgdXNhbmRvIGxhIGEgZnVuY2nDs24gYHN0cigpYCAoZGUgKnN0cnVjdHVyZSogZW4gaW5nbMOpcyk6CgoKYGBge3J9CnN0cihiYXJpbG9jaGUpCmBgYAoKRG9uZGUgc2UgdmUgcXVlIGxhIGNvbHVtbmEgYFRlbXBlcmF0dXJhYCB0aWVuZSBjbGFzZSBgY2hyYCAoY2FyYWN0ZXIpLgoKU2VndXJhbWVudGUgbG8gcHJpbWVybyBxdWUgdHJhdGFyw6FzIGVuIHVuIGNhc28gYXPDrSBlcyBzaW1wbGVtZW50ZSBjYW1iaWFybGUgZWwgdGlwbyBhIGxhIGNvbHVtbmEKCmBgYHtyLCBtZXNzYWdlPUZBTFNFfQpsaWJyYXJ5KGRwbHlyKQpiYXJpbG9jaGUgJT4lIAogIG11dGF0ZShUZW1wZXJhdHVyYSA9IGFzLm51bWVyaWMoVGVtcGVyYXR1cmEpKQpgYGAKUGVybyBSIGRpY2UgcXVlIGhheSB1biBwcm9ibGVtYS4gYE5BcyBpbnRyb2R1Y2VkIGJ5IGNvZXJjaW9uYCBzaWduaWZpY2EgcXVlIGFsZ3Vub3MgdmFsb3JlcyBubyBzZSBwdWRpZXJvbiB0cmFuc2Zvcm1hciBlbiBudW3DqXJpY29zIHkgZW50b25jZXMgYGFzLm51bWVyaWNgIGxvcyBkZWrDsyBjb21vIHZhbG9yZXMgZmFsdGFudGVzLiBDYXNpIGNvbiBzZWd1cmlkYWQgbm8gcXVlcsOpcyBlc28uIFBhcmEgdmVyIHF1w6kgZXN0w6EgcGFzYW5kbywgaGF5IHF1ZSBpbnZlc3RpZ2FyIHF1w6kgY29udGVuaWRvcyB0aWVuZW4gZXNhcyBmaWxhcy4gUGFyYSBlc28sIHBvZMOpcyBmaWx0cmFyIGxhcyBmaWxhcyBkZSBgYmFyaWxvY2hlYCBxdWUgbm8gdGllbmVuIGBOQWAgZW4gYFRlbXBlcmF0dXJhYCBwZXJvIHF1ZSBzZSBjb252aWVydGVuIGVuIGBOQWAgYWwgaGFjZXIgYGFzLm51bWVyaWMoVGVtcGVyYXR1cmEpYDoKCmBgYHtyfQpiYXJpbG9jaGUgJT4lIAogIGZpbHRlcighaXMubmEoVGVtcGVyYXR1cmEpICYgaXMubmEoYXMubnVtZXJpYyhUZW1wZXJhdHVyYSkpKQpgYGAKCgpBasOhISBTZSB2ZSBxdWUgYSBhbGd1aWVuIHNlIGxlIG9jdXJyacOzIHVzYXIgbG9zIGNhcmFjdGVyZXMgIk4vQSIgcGFyYSBkZXNpZ25hciBhbGd1bm9zIGRhdG9zIGZhbHRhbnRlcy4gQ29uIGVzdGEgaW5mb3JtYWNpw7NuLCBlc3RhcsOtYSBidWVubyB2b2x2ZXIgYSBsZWVyIGxvcyBkYXRvcywgZGljacOpbmRvbGUgYSBgcmVhZF9jc3ZgIHF1ZSBlc3RlIGFyY2hpdm8gdXNhIGRvcyBmb3JtYXMgcGFyYSByZWZlcmlyc2UgYSBkYXRvcyBmYWx0YW50ZXMuIAoKOjo6ey5hbGVydCAuYWxlcnQtaW5mb30gCioqRGVzYWbDrW8qKiBhbmTDoSBhIGxhIGF5dWRhIGRlIGByZWFkX2NzdmAgeSBmaWphdGUgc2kgaGF5IGFsZ8O6biBhcmd1bWVudG8gcXVlIGNvbnRyb2xlIGxhIGxlY3R1cmEgZGUgZGF0b3MgZmFsdGFudGVzLiBTYWJpZW5kbyBxdWUgaGF5IHZhbG9yZXMgZmFsdGFudGVzIGNvZGlmaWNhZG9zIGNvbW8gIk4vQSIsIMK/cXXDqSBkZWJlcsOtYXMgcGFzYXJsZSBhIGVzZSBhcmd1bWVudG8gcGFyYSBsZWVyIGNvcnJlY3RhbWVudGUgbG9zIGRhdG9zPwo6OjoKCmByZWFkX2NzdmAgdGllbmUgdW4gYXJndW1lbnRvIGBuYWAgcXVlIGNvbnRyb2xhIHF1w6kgdmFsb3JlcyB2YW4gYSBpbnRlcnByZXRhcnNlIGNvbW8gdmFsb3JlcyBmYWx0YW50ZXMuIEVuIGVzdGUgY2Fzbywgc2Fiw6lzIHF1ZSAiTi9BIiBlcyB1bm8uIEVudG9uY2VzIGRlYmVyw61hIGZ1bmNpb25hciBidWVuIGxlZXIgbG9zIGRhdG9zIGFzw606CgpgYGB7cn0KYmFyaWxvY2hlIDwtIHJlYWRfY3N2KCJkYXRvcy9iYXJpbG9jaGUuY3N2IiwgbmEgPSAiTi9BIikKYGBgCsKhTm8hIE90cmEgdmV6IGBUZW1wZXJhdHVyYWAgc2UgbGV5w7MgY29tbyBjYXJhY3Rlci4gU2kgdXPDoXMgYHN0cmAgcG9kw6lzIHZlciBxdWUncGFzw7M6CgpgYGB7cn0Kc3RyKGJhcmlsb2NoZSkKYGBgCkxhIHByaW1lcmEgZmlsYSwgcXVlIGFudGVzIHNlIGxlw61hIGNvbW8gZGF0byBmYWx0YW50ZSwgYWhvcmEgc2UgbGVlIGNvbW8gIk5BIi4gIAoKOjo6ey5hbGVydCAuYWxlcnQtaW5mb30gCioqRGVzYWbDrW8qKiDCv1BvciBxdcOpIGFob3JhIGByZWFkX2NzdmAgZXN0w6EgbGV5ZW5kbyBlc2UgZGF0byBpbmNvcnJlY3RhbWVudGU/IENvbnNlam86IHZvbHbDqSBhIGxhIGF5dWRhIGRlIGByZWFkX2NzdmAgeSBmaWphdGUgZWwgdmFsb3IgcG9yIGRlZmF1bHQgZGVsIGFyZ3VtZW50byBgbmFgLgo6OjoKCkFudGVzLCBgbmFgIGVzdGFiYSBjb21vIGVsIHZhbG9yIHBvciBkZWZlY3RvLCBxdWUgZXMgYGMoIiIsICJOQSIpYCwgbG8gcXVlIHNpZ25pZmljYSBxdWUgdGFudG8gdmFsb3JlcyB2YWPDrW9zIGNvbW8gdmFsb3JlcyBgIk5BImAgc29uIGNvbnNpZGVyYWRvcyB2YWxvcmVzIGZhbHRhbnRlcy4gTG8gcXVlIHRlbsOpcyBxdWUgaGFjZXIgZXMgYWdyZWdhciB0YW1iacOpbiBlbCB2YWxvciBgIk4vQSJgOgoKYGBge3J9CmJhcmlsb2NoZSA8LSByZWFkX2NzdigiZGF0b3MvYmFyaWxvY2hlLmNzdiIsIG5hID0gYygiIiwgICJOQSIsICJOL0EiKSkKYGBgCgpCaWVuLiBBaMOtIGxhIGNvbHVtbmEgYFRlbXBlcmF0dXJhYCBzZSBsZXnDsyBjb21vIGRvYmxlLiBQZXJvLCDCv3NlIGxleWVyb24gYmllbj8gVW5hIGZvcm1hIHLDoXBpZGEgZGUgY2hlcXVlYXIgbG9zIGRhdG9zIGVzIHVzYW5kbyBsYSBmdW5jacOzbiBgc3VtbWFyeWA6CgpgYGB7cn0Kc3VtbWFyeShiYXJpbG9jaGUpCmBgYApgc3VtbWFyeWAgZGV2dWVsdmUgYWxndW5hcyBlc3RhZMOtc3RpY2FzIHNpbXBsZXMgc29icmUgY2FkYSBjb2x1bW5hLiBMYSBjb2x1bW5hIGBUZW1wZXJhdHVyYWAgdGllbmUgNTAxIHZhbG9yZXMgZmFsdGFudGVzLCBzdSBtw6F4aW1vIGVzIGByIG1heChiYXJpbG9jaGUkVGVtcGVyYXR1cmEsIG5hLnJtID0gVFJVRSlgIHkgc3UgbcOtbmltbyBlcy4uLiDCvy05OTkuOTkwPyBFc28gbm8gcHVlZGUgc2VyLiBTZWd1cmFtZW50ZSBhIG90cm8gYWxndWllbiBzZSBsZSBvY3VycmnDsyB1c2FyICItOTk5Ljk5IiBwYXJhIG1hcmNhciBsb3MgZGF0b3MgZmFsdGFudGVzLiBVbmEgdmV6IHF1ZSBzYWLDqXMgZXNvLCBwb2TDqXMgdm9sdmVyIGEgbGVlciBvdHJhIHZleiBsb3MgZGF0b3MgYWdyZWdhbmRvIG90cm8gbWFyY2Fkb3IgbcOhcyBwYXJhIGxvcyBkYXRvcyBmYWx0YW50ZXMuCgpgYGB7cn0KYmFyaWxvY2hlIDwtIHJlYWRfY3N2KCJkYXRvcy9iYXJpbG9jaGUuY3N2IiwgbmEgPSBjKCIiLCAiTkEiLCAiTi9BIiwgIi05OTkuOTkiKSkKYGBgClkgYWhvcmEgYHN1bW1hcnlgIGRhOgoKYGBge3J9CnN1bW1hcnkoYmFyaWxvY2hlKQpgYGAKCkFob3JhIGVsIHJhbmdvIGRlIHRlbXBlcmF0dXJhIGVzIHJhem9uYWJsZSB5IHBvZMOpcyB0ZW5lciBjb25maWFuemEgZGUgcXVlIGxvcyBkYXRvcyBlc3TDoW4gYmllbiBsZcOtZG9zLiAKCjo6OnsuYWxlcnQgLmFsZXJ0LXN1Y2Nlc3N9CgpKdW50byBhIGByZWFkX2NzdigpYCBoYXkgdW5hIGZhbWlsaWEgZGUgZnVuY2lvbmVzIHNpbWlsYXJlcyBxdWUgbGVlbiBhcmNoaXZvcyBjb24gZGlzdGludG9zIHRpcG9zIGRlIGRlbGltaXRhZG9yZXMgZGlzdGludG9zIGRlIGxhIGNvbWEuIExhIGJ1ZW5hIG5vdGljaWEgZXMgcXVlIHRvZGFzIGxhcyBmdW5jaW9uZXMgdGllbmUgYXJndW1lbnRvcyBzaW1pbGFyZXMgeSBzZSB1c2FuIGNhc2kgaW5kaXN0aW50YW1lbnRlLgoKU2kgcXVpc2llcmFzIGxlZXIgYXJjaGl2b3MgcXVlIGVzdMOhbiBlbiBmb3JtYXRvICJ4bHN4IiAoRXhjZWwpIHBvZMOpcyB1c2FyIGVsIHBhcXVldGUgYHtyZWFkeGx9YC4KCjo6OgoKCiMgQXJjaGl2b3MgTmV0Q0RGCgpMdWVnbyBkZSBlc3RhIGVwb3BleWEgcGFyYSBjb25zZWd1aXIgbGVlciBlc3RvcyBkYXRvcyBjb3JyZWN0YW1lbnRlIGVzdMOhIGJ1ZW5vIHJlZmxleGlvbmFyIHNvYnJlIGxhIGltcG9ydGFuY2lhIGRlIGxvcyAqKm1ldGFkYXRvcyoqOyBsb3MgZGF0b3Mgc29icmUgbG9zIGRhdG9zIHF1ZSwgZW50cmUgb3RyYXMgY29zYXMsIHBvZHLDrWFuIGluZGljYXIgY8OzbW8gZXN0w6FuIGNvZGlmaWNhZG9zIGxvcyBkYXRvcyBmYWx0YW50ZXMuIFVuYSBhbHRlcm5hdGl2YSBlcyB1c2FyIGZvcm1hdG9zIGRlIGRhdG9zICJhdXRvZGVzY3JpcHRpdm9zIi4gRXN0b3Mgc29uIHRpcG9zIGRlIGFyY2hpdm9zIHF1ZSBjb250aWVuZW4gc3VzIHByb3Bpb3MgbWV0YWRhdG9zLiAKClVubyBkZSBlc3RvcyB0aXBvcyBkZSBmb3JtYXRvcyBtdXkgdXRpbGl6YWRvIGVuIGNpZW5jaWFzIHBhcmEgZ3VhcmRhciBkYXRvcyBhdG1vc2bDqXJpY29zIGdyaWxsYWRvcyBlcyBlbCBbTmV0Q0RGXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9OZXRDREYpLiBFeGlzdGVuIHZhcmlvcyBwYXF1ZXRlcyBwYXJhIGVzdG9zIGFyY2hpdm9zLiBVbm8gZGUgZWxsb3MgZXMge21ldFJ9LiAKCmBgYHtyfQpsaWJyYXJ5KG1ldFIpCmBgYAoKCkxvcyBkYXRvcyBlbiBhcmNoaXZvcyBOZXRDREYgcHVlZGUgc2VyIGJhc3RhbnRlIGdyYW5kZXMgeSBkZXN0cnVpciB0dSBzZXNpw7NuIGRlIFIgc2kgdHJhdMOhcyBkZSBsZWVybG9zIGVudGVyb3MgZW4gbWVtb3JpYS4gUG9yIGVzbywgc2llbXByZSBlcyBidWVubyBwcmltZXJvIGZpamFyc2UgcXXDqSB0aWVuZSB1biBhcmNoaXZvIG51ZXZvLiBQYXJhIGVzbywge21ldFJ9IHRpZW5lIGxhIGZ1bmNpw7NuIGBHbGFuY2VOZXRDREZgIHF1ZSBtdWVzdHJhIHVuIHZpc3Rhem8gZGUgbG9zIG1ldGFkYXRvcyBkZWwgYXJjaGl2by4gVmFtb3MgYSB0cmFiYWphciBjb24gdW4gYXJjaGl2byBlbiBlc3RlIGZvcm1hdG8gcXVlIGNvbnRpZW5lIGRhdG9zIGRlIHJlYW7DoWxpc2lzIGRlbCBOQ0VQLgoKYGBge3J9CkdsYW5jZU5ldENERigiZGF0b3MvdGVtcGVyYXR1cmEubmMiKQpgYGAKCkxhIHNhbGlkYSBkZSBlc3RhIGZ1bmNpw7NuIG11ZXN0cmEgbGFzIHZhcmlhYmxlcyBxdWUgdGllbmUgZWwgYXJjaGl2byB5IHN1cyBkaW1lbnNpb25lcy4gCgo6Ojp7LmFsZXJ0IC5hbGVydC1pbmZvfQoqKkRlc2Fmw61vKiogwr9RdcOpIGluZm9ybWFjacOzbiBwb2TDqXMgZGVkdWNpciBzb2JyZSBlbCBjb250ZW5pZG8gZGUgdGVtcGVyYXR1cmEubmMgYSBwYXJ0aXIgZGUgZXN0bz8KOjo6CgpFbiBlc3RlIGNhc28sIGVsIGFyY2hpdm8gdGllbmUgdW5hIHNvbGEgdmFyaWFibGUsIGxsYW1hZGEgYGFpcmAgcXVlIGVzIGxhIHRlbXBlcmF0dXJhIG1lZGlhIGVuIEtlbHZpbiAodW4gYXJjaGl2byBOZXRDREYgcHVlZGUgdGVuZXIgbXVjaGFzIHZhcmlhYmxlcyB5IG5vIHRvZGFzIGVuIGxhIG1pc21hIGdyaWxsYSkuIERlIGxhcyBkaW1lbnNpb25lcyBkZWwgYXJjaGl2bywgc2UgdmUgcXVlIHRpZW5lIGRpbWVuc2lvbmVzIGRlIHRpZW1wbywgbml2ZWwsIGxvbmdpdHVkIHkgbGF0aXR1ZC4gTGEgbGF0aXR1ZCB2YSBkZSAtOTAgYSA5MCB5IGxhIGxvbmdpdHVkIGRlIDAgYSAzNTcuNSwgcG9yIGxvIHF1ZSBlcyB1biBjYW1wbyBnbG9iYWwuIGBsZXZlbGAgZXMgbGEgY29vcmRlbmFkYSB2ZXJ0aWNhbCwgcXVlIHZhIGRlIDEwMDAgbWlsaWJhcmVzIChiw6FzaWNhbWVudGUgbGEgc3VwZXJmaWNpZSkgYSAxMCBtaWxsaWJhcmVzIChsYSBlc3RyYXTDs3NmZXJhIG1lZGlhKS4gCgpQYXJhIGxlZXIgbG9zIGRhdG9zLCBzZSB1c2EgYFJlYWROZXRDREYoKWA6CgpgYGB7cn0KdGVtcGVyYXR1cmEgPC0gUmVhZE5ldENERigiZGF0b3MvdGVtcGVyYXR1cmEubmMiLCB2YXJzID0gImFpciIpCnRlbXBlcmF0dXJhCmBgYAoKOjo6ey5hbGVydCAuYWxlcnQtc3VjY2Vzc30KU2kgbm8gbGUgcG9uw6lzIGB2YXJzID0gImFpciJgLCBgUmVhZE5ldENERigpYCB2YSBhIHRyYXRhciBkZSBsZWVyIHRvZGFzIGxhcyB2YXJpYWJsZXMgcHJlc2VudGVzIGVuIGVsIGFyY2hpdm8uIEVzdG8gYSB2ZWNlcyBwdWVkZSBjYXVzYXIgcHJvYmxlbWFzIHNpIGxhcyBncmlsbGFzIGRlIGxhcyB2YXJpYWJsZXMgbm8gc29uIGNvbXBhdGlibGVzIChwb3IgZWplbXBsbywgc2kgdW5hIHZhcmlhYmxlIGVzIGxhIHRlbXBlcmF0dXJhIGRlbCBhaXJlIGRlZmluaWRhIGVuIGRpc3RpbnRhcyBhbHR1cmFzLCB5IG90cmEgZXMgbGEgdGVtcGVyYXR1cmEgZGVsIHN1ZWxvKS4gRW4gZXN0ZSBjYXNvLCBjb21vICJ0ZW1wZXJhdHVyYS5uYyIgdGllbmUgc8OzbG8gdW5hIHZhcmlhYmxlLCBubyBoYXLDrWEgZmFsdGEgcG9uZXJsby4KOjo6CgpFcyBtdXkgcG9zaWJsZSBxdWUgcXVpZXJhcyBkYXRvcyBzw7NsbyBkZSB1bmEgcmVnacOzbi4gVW5hIG9wY2nDs24gZXMgbGVlciB0b2RvIGVsIGFyY2hpdm8geSBsdWVnbyBmaWx0cmFyIGxvcyBkYXRvcy4gU2kgdGUgaW50ZXJlc2EgbGEgdGVtcGVyYXR1cmEgZGUgc3VwZXJmaWNpZSBkZSBBcmdlbnRpbmEsIHBvZHLDrWFzIGhhY2VyIGFsZ28gYXPDrToKCmBgYHtyfQp0ZW1wZXJhdHVyYSAlPiUgCiAgZmlsdGVyKGxldmVsID09IDEwMDAgJiBiZXR3ZWVuKGxhdCwgLTY1LCAtMjApICYgYmV0d2Vlbihsb24sIDI4MCwgMzEwKSkKYGBgCgpQZXJvIGVzIG11Y2hvIG1hxZsgZWZpY2llbnRlIGxlZXIgc8OzbG8gbG9zIGRhdG9zIHF1ZSB0ZSBpbnRlcmVzYW4sIGVzcGVjaWFsbWVudGUgZW4gYXJjaGl2b3MgTmV0Q0RGIGdyYW5kZXMsIHF1ZSBpbmNsdXNvIG5vIHB1ZWRlIHNlciBsZcOtZG9zIGVuIG1lbW9yaWEgZW50ZXJvcy4gYFJlYWROZXRDREYoKWAgdGllbmUgdW4gYXJndW1lbnRvIGxsYW1hZG8gYHN1YnNldGAgcXVlIHNpcnZlIHBhcmEgZXNwZWNpZmljYXIgcXXDqSBkYXRvcyBsZWVyOgoKYGBge3J9ClJlYWROZXRDREYoImRhdG9zL3RlbXBlcmF0dXJhLm5jIiwgdmFycyA9ICJhaXIiLAogICAgICAgICAgIHN1YnNldCA9IGxpc3QobGV2ZWwgPSAxMDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgbGF0ID0gYygtNjUsIC0yMCksCiAgICAgICAgICAgICAgICAgICAgICAgICBsb24gPSBjKDI4MCwgMzEwKSkpIApgYGAKCkEgYHN1YnNldGAgaGF5IHF1ZSBwYXNhcmxlIHVuYSBsaXN0YSBkb25kZSBjYWRhIGVsZW1lbnRvIHRpZW5lIGVsIG5vbWJyZSBkZSB1bmEgZGltZW5zacOzbiBjb24gdW4gdmVjdG9yIGN1eW8gcmFuZ28gZGVmaW5lIGVsIHJhbmdvIGRlIGxvcyBkYXRvcyBhIGxlZXIuIEVsIGPDs2RpZ28gZGUgYXJyaWJhLCBlbnRvbmNlcywgZGljZSBxdWUgZGUgbGEgZGltZW5zacOzbiBgbGV2ZWxgIGxlYSDDum5pY2FtZW50ZSBlbCB2YWxvciAxMDAwLCBkZSBsYSBkaW1lbnNpw7NuIGBsYXRgLCBsZWEgbG9zIHZhbG9yZXMgcXVlIHZhbiBlbnRyZSAtNjUgeSAtMjAsIHkgZGUgbGEgZGltZW5zacOzbiBgbG9uYCwgbG9zIHZhbG9yZXMgZW50cmUgMjgwIHkgMzEwLiAKCgo6Ojp7LmFsZXJ0IC5hbGVydC1pbmZvfQoqKkRlc2Fmw61vKiogRWxlZ8OtIHVuYSByZWdpw7NuIGRlbCBtdW5kbyB5IGNvbXBsZXTDoSBlbCBjw7NkaWdvIHF1ZSBzaWd1ZSBwYXJhIHF1ZSBsZWEgbGEgdGVtcGVyYXR1cmEgZW4gc3VwZXJmaWNpZSBkZSBlc2EgcmVnacOzbi4gCgpgYGB7ciwgZXZhbCA9IEZBTFNFfQp0ZW1wZXJhdHVyYSA8LSBSZWFkTmV0Q0RGKCJkYXRvcy90ZW1wZXJhdHVyYS5uYyIsIHZhcnMgPSAiYWlyIiwKICAgICAgICAgICBzdWJzZXQgPSBsaXN0KGxldmVsID0gMTAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgIGxhdCA9IGMoX19fLCBfX18pLAogICAgICAgICAgICAgICAgICAgICAgICAgbG9uID0gYyhfX18sIF9fXykpKQpgYGAKUGFyYSByZXZpc2FyIHNpIGxlw61zdGUgbG9zIGRhdG9zIGNvcnJlY3RvcywgY29ycsOpIGVzdGUgY8OzZGlnbyAobm8gdGUgcHJlb2N1cGVzIHNpIG5vIHVzYXMgZ2dwbG90LCBlbiB1bmEgc2VjY2nDs24gbcOhcyBhZGVsYW50ZSBsbyB2ZXJlbW9zKQoKYGBge3IsIGV2YWwgPSBGQUxTRX0KbGlicmFyeShnZ3Bsb3QyKQpnZ3Bsb3QodGVtcGVyYXR1cmEsIGFlcyhsb24sIGxhdCkpICsKICBnZW9tX3Jhc3RlcihhZXMoZmlsbCA9IGFpcikpICsKICBnZW9tX3BhdGgoZGF0YSA9IG1hcF9kYXRhKCJ3b3JsZDIiKSwgYWVzKGxvbmcsIGxhdCwgZ3JvdXAgPSBncm91cCkpCmBgYAoKOjo6CgoKOjo6ey5hbGVydCAuYWxlcnQtc3VjY2Vzc30KUG9uZXJsZSBub21icmUgYSBsYXMgdmFyaWFibGVzIGVzIGEgdmVjZXMgbGEgcGFydGUgbcOhcyBkaWbDrWNpbCBkZSBlc2NyaWJpciBjw7NkaWdvLiBBIFIgbm8gbGUgdmllbmUgYmllbiBjdWFscXVpZXIgbm9tYnJlIGRlIHZhcmlhYmxlIHNpZW1wcmUgeSBjdWFuZG8gbm8gZW1waWVjZSBjb24gdW4gbsO6bWVybyBvIHVuICJfIi4gUGVybyBhIGxvcyBzZXJlcyBodW1hbm9zIHF1ZSBsZWFuIGVsIGPDs2RpZ28geSB0ZW5nYW4gcXVlIGludGVycHJldGFybG9zIGxlcyB2YSBhIHJlc3VsdGFzIG3DoXMgZsOhY2lsIGVudGVuZGVyIHF1w6kgaGFjZSBsYSB2YXJpYWJsZSBgdGVtcGVyYXR1cmFfY29yZG9iYWAgcXVlIGxhIHZhcmlhYmxlIGB4eHkxYC4gCgpFbCBjb25zZWpvIGVzIHRyYXRhciBlbiBsbyBwb3NpYmxlIHVzYXIgbm9tYnJlIGRlc2NyaXB0aXZvcyB5IGNvbnNpc3RlbnRlcy4gUG9yIGVqZW1wbG8sIHNpZW1wcmUgdXNhciBtaW7DunNjdWxhcyB5IHNlcGFyYXIgcGFsYWJyYXMgY29uICJfIi4gCgoqKlRpcCoqOiBQYXJhIGhhY2Vyc2UgbGEgdmlkYSBtw6FzIGbDoWNpbCBleGlzdGVuICJndcOtYXMgZGUgZXN0aWxvIiBwYXJhIHByb2dyYW1hciBxdWUgZXhwbGljaXRhbiByZWdsYXMgZXNwZWPDrWZpY2FzIHBhcmEgZXNjcmliaXIgY8OzZGlnby4gUG9yIGVqZW1wbG8gW2VzdGFdKGh0dHBzOi8vcnB1YnMuY29tL0Z2RC9ndWlhLWVzdGlsby1yKXsuYWxlcnQtbGlua30gbyBbZXN0YSBvdHJhXShodHRwczovL2dpdGh1Yi5jb20vZWxpb2NhbXAvdGVzaXMvYmxvYi9tYXN0ZXIvZG9jcy9ndSVDMyVBRGFfZGVfZXN0aWxvLm1kKXsuYWxlcnQtbGlua30uIFNlIHRyYXRhIGRlIHJlZ2xhcyDDum5pY2FtZW50ZSBwYXJhIGxvcyBvam9zIGh1bWFub3MsIHkgcXVlIG5vIGFmZWN0YW4gZW4gYWJzb2x1dG8gbGEgZWZpY2llbmNpYSBvIGNvcnJlY3RpdHVkIGRlIGxhIHByb2dyYW1hY2nDs24uIEVuIGdlbmVyYWwsIG5vIGV4aXN0ZW4gZ3XDrWFzIGJ1ZW5hcyBvIG1hbGFzLCBsYSBpZGVhIGVzIGVsZWdpciB1bmEgeSBzZXIgY29uc2lzdGVudGUuIERlIGVzdGEgbWFuZXJhLCB2YXMgYSBwb2RlciBlbnRlbmRlciB0dSBjw7NkaWdvIGNvbiBtw6FzIGZhY2lsaWRhZC4gCjo6OgoKCgo8ZGl2IGNsYXNzPSJidG4tZ3JvdXAiIHJvbGU9Imdyb3VwIiBhcmlhLWxhYmVsPSJOYXZlZ2FjacOzbiI+CiAgPGEgaHJlZj0gIjAzLXJlcG9ydGVzLUkuaHRtbCIgY2xhc3MgPSAiYnRuIGJ0bi1wcmltYXJ5Ij5BbnRlcmlvcjwvYT4KICA8YSBocmVmPSAiMDUtZHBseXIuaHRtbCIgY2xhc3MgPSAiYnRuIGJ0bi1wcmltYXJ5Ij5TaWd1aWVudGU8L2E+CjwvZGl2Pg==</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("04-lectura.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
